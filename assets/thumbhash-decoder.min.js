(()=>{var r,n,o=document,t=Math,Q=t.PI,V=t.cos,X=t.round,Y=t.max,Z=t.min,d={};function c(t){if(d[t])return d[t];try{var e=(t=>{var e=atob(t),a=e.length,c=new Uint8Array(a);for(P=0;P<a;P++)c[P]=e.charCodeAt(P);var x=(63&(t=c[0]|c[1]<<8|c[2]<<16))/63,z=(t>>6&63)/31.5-1,O=(t>>12&63)/31.5-1,r=(t>>18&31)/31,n=t>>23!=0,t=((w=c[3]|c[4]<<8)>>3&63)/63,o=(w>>9&63)/63,d=Y(3,(s=w>>15!=0)?n?5:7:7&w),i=Y(3,s?7&w:n?5:7),u=1,s=0,h=5,l=0;function f(t,e,a){for(var r,n,o=[],d=0;d<e;d++)for(r=0;r<t;r++)(r||d)&&(n=1&l?c[h+(l>>1)]>>4:15&c[h+(l>>1)],o.push((n/7.5-1)*a),l++);return o}n&&(u=(15&c[5])/15,s=(c[5]>>4&15)/15,h=6);for(var g,b,m,v,y,L,k,_,G,p,W=f(d,i,r),j=f(3,3,1.25*t),B=f(3,3,1.25*o),F=n?f(5,5,s):null,w=0!=((c[0]|c[1]<<8|c[2]<<16)>>23&1),t=(r=0!=((c[3]|c[4]<<8)>>15&1))?w?5:7:7&(c[3]|c[4]<<8>>8),o=r?7&(c[3]|c[4]<<8>>8):w?5:7,A=X(1<(s=(r?32:t)/(r?o:32))?32:32*s),E=X(1<s?32/s:32),I=new Uint8Array(A*E*4),S=Q/E,C=Q/A,D=0;D<E;D++){for(var M=D+.5,H=[],P=0;P<i;P++)H[P]=V(S*M*P);if(y=[V(0),V(S*M),V(S*M*2)],n)for(L=[],P=0;P<5;P++)L[P]=V(S*M*P);for(g=0;g<A;g++){for(var R=g+.5,U=x,J=z,N=O,K=u,T=0,q=0;q<i;q++)for(v=H[q],b=0;b<d;b++)(b||q)&&(U+=W[T++]*V(C*R*b)*v);for(q=T=0;q<3;q++)for(b=0;b<3;b++)(b||q)&&(m=V(C*R*b),J+=j[T]*m*y[q],N+=B[T]*m*y[q],T++);if(n)for(q=T=0;q<5;q++)for(b=0;b<5;b++)(b||q)&&(K+=F[T++]*V(C*R*b)*L[q]);G=(_=(3*U-(p=U-2/3*J)+N)/2)-N,p=p,I[k=4*(D*A+g)]=Y(0,Z(255,X(255*_))),I[1+k]=Y(0,Z(255,X(255*G))),I[2+k]=Y(0,Z(255,X(255*p))),I[3+k]=Y(0,Z(255,X(255*K)))}}return{w:A,h:E,rgba:I}})(t),a=(r||(r=o.createElement("canvas"),n=r.getContext("2d")),r.width=e.w,r.height=e.h,n.createImageData(e.w,e.h));return a.data.set(e.rgba),n.putImageData(a,0,0),d[t]=r.toDataURL()}catch(t){return""}}function i(t){var e,a,r;function n(){a.classList&&a.classList.remove("thumbhash-loading"),setTimeout(function(){r.backgroundImage=r.backgroundSize=r.backgroundPosition=r.backgroundRepeat=""},550)}function o(){t.decode?t.decode().then(n).catch(n):n()}t._th||(t._th=1,(e=t.getAttribute("data-thumbhash"))&&(e=c(e))&&(a=t.closest("picture")||t,(r=a.style).backgroundImage="url("+e+")",r.backgroundSize="cover",r.backgroundPosition="center",r.backgroundRepeat="no-repeat","PICTURE"===a.tagName&&(r.display="block"),a.classList&&a.classList.add("thumbhash-loading"),t.complete&&t.naturalWidth?o():(t.addEventListener("load",o,{once:!0}),t.addEventListener("error",n,{once:!0}))))}function u(t){if(t&&(1===t.nodeType&&"IMG"===t.tagName&&t.hasAttribute("data-thumbhash")&&i(t),t.querySelectorAll))for(var e=t.querySelectorAll("img[data-thumbhash]"),a=0;a<e.length;a++)i(e[a])}new MutationObserver(function(t){for(var e=0;e<t.length;e++)for(var a=t[e].addedNodes,r=0;r<a.length;r++)u(a[r])}).observe(o.documentElement,{childList:!0,subtree:!0}),"loading"!==o.readyState?u(o.body||o.documentElement):o.addEventListener("DOMContentLoaded",function(){u(o.body)})})();